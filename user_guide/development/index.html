<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Guia de contribuíção (Desenvolvimento) - Coding Dojo</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Coding Dojo</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">coding-dojo</a>
                            </li>
                            <li class="navitem">
                                <a href="../../FAQ/" class="nav-link">Perguntas Frequentes (FAQ)</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../about/CONTRIBUTORS/" class="dropdown-item">Maintainers</a>
</li>
                                    
<li>
    <a href="../../about/LICENSE/" class="dropdown-item">LICENSE</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Coding challenge <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../coding_challenge/" class="dropdown-item">Coding Challenge</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">User guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../COVENTIONAL_COMMITS/" class="dropdown-item">Git commits messages</a>
</li>
                                    
<li>
    <a href="../INSTALLATION/" class="dropdown-item">Guia de Uso</a>
</li>
                                    
<li>
    <a href="../code_of_conduct/" class="dropdown-item">Código de Conduta do Contribuinte</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Guia de contribuíção (Desenvolvimento)</a>
</li>
                                    
<li>
    <a href="../usage/" class="dropdown-item">Usage</a>
</li>
                                    
<li>
    <a href="../writing-your-docs/" class="dropdown-item">Writing your docs</a>
</li>
                                    
<li>
    <a href="../zenpy/" class="dropdown-item">ZEN do Python</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../code_of_conduct/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../usage/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/incolume-jedi/coding-dojo/tree/dev/docs/user_guide/development.md" class="nav-link">Edit on coding-dojo-incolume
                                    </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#guia-de-contribuicao-desenvolvimento" class="nav-link">Guia de contribuíção (Desenvolvimento)</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#codigo-de-conduta" class="nav-link">Código de conduta</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#padroes-aplicados" class="nav-link">Padrões aplicados</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#prerequisitos" class="nav-link">Prerequisitos</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#iniciando-ambiente-de-desenvolvimento" class="nav-link">Iniciando ambiente de desenvolvimento</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#qualidade-de-codigo" class="nav-link">Qualidade de Código</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#seguranca" class="nav-link">Segurança</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#ferramentas-de-automacao" class="nav-link">Ferramentas de Automação</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="guia-de-contribuicao-desenvolvimento">Guia de contribuíção (Desenvolvimento)</h1>
<p>O desenvolvimento deste projeto segue algumas regras e convenções
básicas. Como <em>estilo de formatação de código</em>,</p>
<h2 id="codigo-de-conduta">Código de conduta</h2>
<p>Detalhes em <a href="../code_of_conduct/">docs/user_guide/code_of_conduct.md</a>.</p>
<h2 id="padroes-aplicados">Padrões aplicados</h2>
<p>Este projeto segue as recomendações descritas em
<a href="../prefacio.md#tecnologias-adotadas">Tecnologias</a> e
<a href="../prefacio.md#convenções-adotadas">Convenções</a> Adotadas.</p>
<h2 id="prerequisitos">Prerequisitos</h2>
<ul>
<li>Sistema Operacional Linux Like (preferencialmente) ou WSL</li>
<li>git client</li>
<li>python 3.10+</li>
<li>pyenv</li>
<li>poetry 1.2.0+ (preferencialmente) ou pip</li>
</ul>
<h2 id="iniciando-ambiente-de-desenvolvimento">Iniciando ambiente de desenvolvimento</h2>
<p>Para definir a versão do Python para o ambiente, considerando o uso do poetry,
e instalar as dependências execute os comandos abaixo:</p>
<pre><code>$ poetry env use 3.10
$ poetry install
</code></pre>
<p>Estes comandos criarão um ambiente virtual em Python, na versão especificada,
apresentada no exemplo como 3.10, e instalará todas as dependências fixadas em <code>pyproject.toml</code> com suas
restrições especificadas em <code>poetry.lock</code>.</p>
<p>Após o ambiente criado com suas dependências instaladas, execute o comando:</p>
<pre><code>$ poetry run task setup
</code></pre>
<p>Este comando garantirá que os hooks do projeto sejam ativados, e executados nos eventos apropriados.</p>
<h2 id="qualidade-de-codigo">Qualidade de Código</h2>
<p>É utilizado de ferramentas validadoras de qualidade de código estático,
também denominadas linters.</p>
<p>Há uso das seguintes:</p>
<ul>
<li>black / blue</li>
<li>isort</li>
<li>mypy</li>
<li>pydocstyle</li>
<li>pylint</li>
</ul>
<h2 id="seguranca">Segurança</h2>
<p>Também há preocupação com a segurança do código implementado, os pacotes
<code>bandit</code> e <code>safety</code> são utilizados para monitoramento de segurança das dependências.</p>
<h3 id="bandit">bandit</h3>
<p>Bandit é uma ferramenta projetada para encontrar problemas de segurança comuns no código Python. Para fazer isso, o Bandit processa cada arquivo, cria um AST a partir dele e executa os plug-ins apropriados nos nodos do AST.
Depois que o Bandit terminar de escanear todos os arquivos, ele gerará um relatório.</p>
<pre><code class="language-shell">bandit -c pyproject.toml -r incolume/ test/
</code></pre>
<h3 id="black">black</h3>
<p>O <code>black</code> é classificado como Autoformator, são programas que
refatoram seu código para se adequar ao PEP 8 automaticamente.</p>
<pre><code class="language-shell">black --check incolume/ tests/
</code></pre>
<h3 id="blue">blue</h3>
<p>o blue é um autoformatador de código um pouco menos intransigente do
que o black, e segue a ideia de formatar automaticamente o código
Python, totalmente inspirada pelo black.</p>
<pre><code class="language-shell">blue --check incolume/ tests/
</code></pre>
<h3 id="flake8">flake8</h3>
<p>Flake8 é um envolucro em torno das ferramentas: PyFlakes, pycodestyle e Roteiro McCabe de Ned Batchelder</p>
<pre><code class="language-shell">flake8 --config pyproject.toml incolume/ tests/
</code></pre>
<h3 id="pylama">pylama</h3>
<p>O <code>pylama</code> é um envolucro que contém: PyFlakes, pycodestyle, McCabe.</p>
<pre><code class="language-shell">pylama incolumepy tests
</code></pre>
<h3 id="isort">isort</h3>
<p>O <code>isort</code> é um utilitário para classificar as importações
em ordem alfabética e separadas automaticamente em seções e por tipo.</p>
<pre><code class="language-shell">isort incolumepy tests
</code></pre>
<h3 id="mypy">mypy</h3>
<p>O <code>Mypy</code> é essencialmente um analizador de código estático melhorado e com
verificador de tipos, que pode detectar muitos erros de programação
analisando o código, sem precisar executá-lo.
Ele possui um poderoso sistema de tipos com recursos como
inferência de tipos, digitação gradual, genéricos e tipos de união.</p>
<pre><code class="language-shell">mypy incolumepy
</code></pre>
<h3 id="pydocstyle">pydocstyle</h3>
<p>O <code>pydocstyle</code> é uma ferramenta de análise estática para verificar a
conformidade com as convenções docstring do Python. Ele suporta a maior
parte do PEP 257, entretanto não deve ser considerado uma
implementação de referência.</p>
<pre><code class="language-shell">pydocstyle incolumepy tests
</code></pre>
<h3 id="pylint">pylint</h3>
<p>O <code>Pylint</code> é uma ferramenta de análise de código estático do Python
que procura erros de programação, ajuda a impor um padrão de codificação,
detecta cheiros de código e oferece sugestões simples de refatoração.
É altamente configurável, possuindo pragmas especiais para controlar
seus erros e avisos de dentro do seu código, bem como de um extenso
arquivo de configuração. Também é possível escrever seus próprios plugins
para adicionar suas próprias verificações ou para estender o <code>pylint</code>
de uma forma ou de outra.</p>
<pre><code class="language-shell">pylint incolumepy tests
</code></pre>
<h3 id="safety">safety</h3>
<p>O <code>safety</code> verifica as dependências instaladas quanto a vulnerabilidades
de segurança conhecidas.
Por padrão, ele usa o banco de dados de vulnerabilidades Python aberto
<a href="https://github.com/pyupio/safety-db">Safety DB</a>.</p>
<pre><code class="language-shell">safety check
</code></pre>
<h2 id="ferramentas-de-automacao">Ferramentas de Automação</h2>
<p>Para facilitar o trabalho, várias das tarefas estão
automatizadas pelo githooks, e/ou Makefile, e/ou tox e/ou taskipy.</p>
<h3 id="tox">Tox</h3>
<h4 id="verificacao-basica">Verificação básica</h4>
<p>Na Verificação básica engloba:
- black
- blue
- isort
- pydocstyle
- mypy
- pylint
- py310
- py311</p>
<pre><code class="language-shell">tox
</code></pre>
<h4 id="verificacao-dos-testes-com-as-versoes-python-disponiveis">Verificação dos testes com as versões python disponíveis</h4>
<pre><code class="language-shell">tox -e py310,py311
</code></pre>
<h4 id="verificacao-de-tres-linters-apenas-no-em-um-modulo">Verificação de três linters apenas no em um módulo</h4>
<pre><code class="language-shell">tox -e pydocstyle,black,isort -- -k incolume/py/pack/module.py
</code></pre>
<h4 id="verificacao-de-todos-os-linters-configurados">Verificação de todos os linters configurados</h4>
<pre><code class="language-shell">tox -e linters
</code></pre>
<h4 id="verificacao-e-relatorio-de-cobertura">Verificação e relatório de cobertura</h4>
<pre><code class="language-shell">tox -e stats
</code></pre>
<h4 id="verificacao-resumida-de-seguranca">Verificação resumida de segurança</h4>
<pre><code class="language-shell">tox -e safety
</code></pre>
<h4 id="execucao-completa">Execução completa</h4>
<p>Executa todas as verificações diponíveis contidas no <code>tox</code>.</p>
<pre><code class="language-shell">tox -e ALL
</code></pre>
<h3 id="makefile">Makefile</h3>
<p>O <code>Makefile</code> foi personalizado para rodar com as opções necessárias.
Com o help você verá todas as opções. Este comando é exclusivo para linux like.</p>
<pre><code class="language-shell">make help
</code></pre>
<h4 id="iniciar-ambiente-dev">Iniciar ambiente dev</h4>
<p>Através do <code>Makefile</code>, pode-se criar um ambiente virtual para o projeto,
conforme a versão python predefinida, instalando todas as dependências
necessárias, além de ativar as configurações em passos simples.</p>
<pre><code class="language-shell">make setup
</code></pre>
<h4 id="limpeza-basica-do-ambiente">Limpeza básica do ambiente</h4>
<p>Limpeza de arquivos temporários, logs, compilados e afins.</p>
<pre><code class="language-shell">make clean
</code></pre>
<h4 id="limpeza-profunda-do-ambiente">Limpeza profunda do ambiente</h4>
<p>Além da limpeza básica, são removidos dist, build, htmlcov, .tox, *_cache,
e outros conteúdos gerados pelas ferramentas de desenvolvimento.</p>
<pre><code class="language-shell">make clean-all
</code></pre>
<h4 id="gerar-a-documentacao-atualizada">Gerar a documentação atualizada</h4>
<pre><code class="language-shell">make docsgen
</code></pre>
<h4 id="verificacao-de-seguranca-e-exposicao-de-motivos">Verificação de segurança e exposição de motivos</h4>
<pre><code class="language-shell">make safety
</code></pre>
<h3 id="taskipy">Taskipy</h3>
<p>Com <code>taskipy</code> as tarefas são definidas puramente com Python em um arquivo
e pode-se executar rotinas complexas com comandos simples.</p>
<pre><code class="language-shell">$ poetry run task -l

bandit          poetry run bandit -c pyproject.toml -r incolume/ test/
check-all       Checking all
clean           Shallow clean into environment (.pyc, .cache, .egg, .log, et all)
clean-all       Deep cleanning into environment (dist, build, htmlcov, .tox, *_cache, et all)
docs-build      Generate documentation
docs-serve      Run server documentation
lint            Checking all linters configurated
lint_black      Checking with black
lint_blue       Checking with blue
lint_flake8     Checking with flake8
lint_isort      Checking with isort
lint_mypy       Checking with mypy
lint_pydocstyle Checking with pydocstyle
lint_pylint     Checking with pylint
patch           Generate a patch Sematic Version
premajor        poetry version premajor
preminor        poetry version preminor
prerelease      poetry version prerelease
safety          Check safety of packages into project.
sec             Checking environment's safety
changelog       Update changelog file
setup           Configure environment develop
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/jquery-3.6.0.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
